# run summit_load_modules.sh before running this script.
cmake -DDCA_HAVE_LAPACK=ON -DLAPACK_LIBRARIES="${OLCF_ESSL_ROOT}/lib64/libessl.so;${OLCF_NETLIB_LAPACK_ROOT}/lib64/liblapack.so;${OLCF_NETLIB_LAPACK_ROOT}/lib64/libblas.so" -DDCA_ESSL_INCLUDES=${OLCF_ESSL_ROOT}/include -DDCA_WITH_ADIOS2=1 -DTEST_RUNNER=jsrun -DMPIEXEC_NUMPROC_FLAG="-n" -DMPIEXEC_PREFLAGS="-a 1 -g 1 -c 4" -DSMPIARGS_FLAG_NOMPI="--smpiargs=none" -DDCA_WITH_CUDA=1 -DDCA_WITH_CUDA_AWARE_MPI=1 -DCMAKE_CUDA_ARCHITECTURS=70 -DMAGMA_DIR="${OLCF_MAGMA_ROOT}" -DDCA_WITH_TESTS_FAST=ON -DDCA_WITH_TESTS_EXTENSIVE=ON -DFFTW_INCLUDE_DIR=${OLCF_FFTW_ROOT}/include -DFFTW_LIBRARY=${OLCF_FFTW_ROOT}/lib/libfftw3.so -DCMAKE_PREFIX_PATH=${OLCF_ADIOS2_ROOT} -GNinja ..
